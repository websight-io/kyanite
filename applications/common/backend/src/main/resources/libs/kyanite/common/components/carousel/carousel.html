<!--/*
  ~
  ~     Copyright (C) 2023 Dynamic Solutions
  ~
  ~     Licensed under the Apache License, Version 2.0 (the "License");
  ~     you may not use this file except in compliance with the License.
  ~     You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~     Unless required by applicable law or agreed to in writing, software
  ~     distributed under the License is distributed on an "AS IS" BASIS,
  ~     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~     See the License for the specific language governing permissions and
  ~     limitations under the License.
  ~
*/-->

<sly
  data-sly-use.model="pl.ds.kyanite.common.components.models.CarouselComponent"
>
  <sly data-sly-test="${resource.hasChildren}">
    <sly data-sly-test="${!wcmmode.isEdit}">
      <div
        class="carousel glide"
        data-items-per-row-sm="${model.mobileElementsInRow}"
        data-items-per-row-md="${model.tabletElementsInRow}"
        data-items-per-row-lg="${model.desktopElementsInRow}"
      >
        <div data-glide-el="controls" class="buttons is-right">
          <button data-glide-dir="<" class="button" aria-label="Shift to the previous item">
            <span class="icon">
              <i class="mdi mdi-arrow-left"></i>
            </span>
          </button>
          <button data-glide-dir=">" class="button" aria-label="Shift to the next item">
            <span class="icon">
              <i class="mdi mdi-arrow-right"></i>
            </span>
          </button>
        </div>
        <div class="glide__track" data-glide-el="track" tabindex="0">
          <ul class="glide__slides">
            <sly data-sly-list.item="${model.items}">
              <li>
                <sly
                  data-sly-resource="${item.path @ resourceType=item.resourceType}"
                ></sly>
              </li>
            </sly>
          </ul>
        </div>
      </div>
    </sly>
    <sly data-sly-test="${wcmmode.isEdit}">
      <div class="columns is-mobile is-multiline">
        <sly data-sly-list.item="${model.items}">
          <div
            class="column is-${model.desktopColumns}-desktop is-${model.tabletColumns}-tablet is-${model.mobileColumns}-mobile"
          >
            <sly
              data-sly-resource="${item.path @ resourceType=item.resourceType}"
            ></sly>
          </div>
        </sly>
      </div>
    </sly>
  </sly>
  <sly data-sly-test="${!resource.hasChildren}">
    <sly
      data-sly-use.lib="/libs/wcm/foundation/components/commons/templates.html"
      data-sly-call="${lib.placeholder}"
    >
    </sly>
  </sly>
</sly>
