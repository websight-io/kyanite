<!--/*
  ~
  ~     Copyright (C) 2024 Dynamic Solutions
  ~
  ~     Licensed under the Apache License, Version 2.0 (the "License");
  ~     you may not use this file except in compliance with the License.
  ~     You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~     Unless required by applicable law or agreed to in writing, software
  ~     distributed under the License is distributed on an "AS IS" BASIS,
  ~     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~     See the License for the specific language governing permissions and
  ~     limitations under the License.
  ~

*/-->

<template data-sly-template.template="${ @ model}">
  <sly data-sly-test.author="${model.authorInfoModel}">
    <article class="blog-article-author-bio layout-default container
        is-flex is-flex-wrap-wrap is-justify-content-space-between">
      <div class="author-bio-block author-info">
        <div class="author-short-info is-flex is-flex-align-items-center">
          <figure class="author-photo">
            <p class="image is-96x96">
              <sly data-sly-set.leadsToAuthorPage="
              ${ (    (author.authorOwnerPath != null)
                  &&  (author.authorOwnerPath != currentPage.path) ) }"></sly>
              <a data-sly-unwrap="${!leadsToAuthorPage}"
                 href="${author.authorOwnerUrl}" target="">
                <img data-sly-test.authorPhoto="${author.authorPhoto}"
                     src="${authorPhoto}" alt="${author.authorPhotoAlt}"
                     class="is-rounded"
                />
              </a>
            </p>
          </figure>

          <div class="content is-align-self-center">
            <p data-sly-test.authorName="${author.authorName}"
               class="author-name">${authorName}</p>
            <p data-sly-test.authorRole="${author.authorRole}"
               class="author-role">${authorRole}</p>
          </div>
        </div>

        <div data-sly-test.authorDescription="${author.authorDescription}"
             class="author-description content">
          <p>${authorDescription}</p>
        </div>

      </div>
      <div class="author-bio-block social-media">
        <sly data-sly-set.socialMediaMode=
                 "${ (    (author.authorOwnerPath == currentPage.path)
                       || (author.authorOwnerPath == resource.path))
               ? wcmmode.editModeAttribute
               : wcmmode.previewModeAttribute}"></sly>
        <sly data-sly-resource="${author.socialMedia @ requestAttributes=socialMediaMode}"></sly>
      </div>
    </article>
  </sly>
</template>
