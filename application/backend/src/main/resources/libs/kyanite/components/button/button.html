<!--/*
  ~
  ~     Copyright (C) 2023 Dynamic Solutions
  ~
  ~     Licensed under the Apache License, Version 2.0 (the "License");
  ~     you may not use this file except in compliance with the License.
  ~     You may obtain a copy of the License at
  ~
  ~         http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~     Unless required by applicable law or agreed to in writing, software
  ~     distributed under the License is distributed on an "AS IS" BASIS,
  ~     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~     See the License for the specific language governing permissions and
  ~     limitations under the License.
  ~
*/-->
<sly data-sly-use.model="pl.ds.kyanite.components.models.ButtonComponent">
    <sly data-sly-test="${model.type == 'button'}">
        <sly data-sly-test.disabled="${model.isDisabled}">
            <button class="button ${model.buttonClasses @ join=' '}" disabled>
                <sly data-sly-use.template="./template.html"
                     data-sly-call="${template.buttonContent @ model = model}"></sly>
            </button>
        </sly>
        <sly data-sly-test="${!disabled}">
            <sly data-sly-test="${model.actionType == 'open-modal'}">
                <button class="button js-modal-trigger ${model.buttonClasses @ join=' '}"
                        data-target="${model.modalId}">
                    <sly data-sly-use.template="./template.html"
                         data-sly-call="${template.buttonContent @ model = model}"></sly>
                </button>
            </sly>

            <sly data-sly-test="${model.actionType != 'open-modal'}">
                <button class="button ${model.buttonClasses @ join=' '}">
                    <sly data-sly-use.template="./template.html"
                         data-sly-call="${template.buttonContent @ model = model}"></sly>
                </button>
            </sly>
        </sly>
    </sly>
    <sly data-sly-test="${model.type == 'a'}">
        <a href="${model.url}" data-part1="${model.mailPart1}" data-part2="${model.mailPart2}" data-part3="${model.mailPart3}"  class="button ${model.buttonClasses @ join=' '}"
           target="${model.openInNewTab && model.url != '' ? '_blank' : ''}">
            <sly data-sly-use.template="./template.html"
                 data-sly-call="${template.buttonContent @ model = model}"></sly>
        </a>
    </sly>
</sly>